<div class="card">
    <div class="card-header d-flex flex-column align-items-start pb-0">
       <p class="font-weight-bolder ml-1" >Budget Resident Days List</p>
    </div>
    <div class="card-body mt-1">
    <div class="row mb-1">
       <div class="col-md-6 col-12">
          <div class="d-flex">
             <button type="button" class="btn-sm btn-info" *ngIf="addPrms ==1|| currentUser.user_role == '6'|| currentUser.prmsnId == '1'"
                [routerLink]="['add-budget-resident']" >  <i class="fa fa-plus mr-50"></i>Add Budget Resident days
             </button> 

             <button type="button" (click)="fileInput.click()"  class="btn-sm btn-info ml-1" *ngIf="['1','6','16'].includes(currentUser.prmsnId)" >
               <i class="fa fa-file "></i>   Import File
               <input #fileInput type="file" (click)="fileInput.value = null" (change)="onFileInput(fileInput.files)" style="display:none;" />
             </button>
             <button type="button" class="btn-sm btn-info ml-1" *ngIf="['1','6','16'].includes(currentUser.prmsnId)" (click)="openMdl()">  <i class="fa fa-trash mr-50"></i>Delete Import
             </button> 
          </div>
       </div>
    </div>
    <ngx-datatable #tablesss class="bootstrap core-bootstrap sz-1000" [rows]="rows" [columnMode]="'force'"
    [headerHeight]="50" [footerHeight]="50" rowHeight="auto" [externalPaging]="false"
    [count]="" [offset]="" [limit]="10" >
    <ngx-datatable-column name="Community Name" prop="community_name" [width]="100" >
       <ng-template let-community_name="value" let-expanded="expanded" ngx-datatable-cell-template>
          {{ community_name }}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Description" prop="description" [width]="100" >
       <ng-template let-description="value" let-expanded="expanded" ngx-datatable-cell-template>
          {{ description }}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="January" prop="january" [width]="100" >
       <ng-template let-january="value" let-expanded="expanded" ngx-datatable-cell-template>
         {{ january  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="February" prop="february" [width]="100" >
       <ng-template let-february="value" let-expanded="expanded" ngx-datatable-cell-template>
         {{ february || '0' }}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="March" prop="march" [width]="100" >
       <ng-template let-march="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ march || '0' }}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="April" prop="april" [width]="100" >
       <ng-template let-april="value" let-expanded="expanded" ngx-datatable-cell-template>
         {{ april || '0' }}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="May" prop="may" [width]="100" >
       <ng-template let-may="value" let-expanded="expanded" ngx-datatable-cell-template>
         {{ may  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="June" prop="june" [width]="100" >
       <ng-template let-june="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ june  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="July" prop="july" [width]="100" >
       <ng-template let-july="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ july  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="August" prop="august" [width]="100" >
       <ng-template let-august="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ august  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="September" prop="september" [width]="100" >
       <ng-template let-september="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ september  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="October" prop="october" [width]="100" >
       <ng-template let-october="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ october || '0' }}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="November" prop="november" [width]="100" >
       <ng-template let-november="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ november  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="December" prop="december" [width]="100" >
       <ng-template let-december="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ december  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="YE Total" prop="YE_total" [width]="100" >
       <ng-template let-YE_total="value" let-expanded="expanded" ngx-datatable-cell-template>
        {{ YE_total  || '0'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Start Date" prop="start_date" [width]="100" >
       <ng-template let-start_date="value" let-expanded="expanded" ngx-datatable-cell-template>
          {{ start_date |  date:'M/d/yyyy'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="End Date" prop="end_date" [width]="100" >
       <ng-template let-end_date="value" let-expanded="expanded" ngx-datatable-cell-template>
          {{ end_date |  date:'M/d/yyyy'}}
       </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Actions" sortable="false" prop="id" [width]="50">
       <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <div class="d-flex align-items-center">
             <div ngbDropdown container="body">
                <a ngbDropdownToggle  class="hide-arrow" id="dropdownBrowserState"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i data-feather="more-vertical" class="text-primary cursor-pointer mr-50"></i>
                </a>
                <div ngbDropdownMenu class="dropdown-menu-right" aria-labelledby="dropdownBrowserState">
                   <a ngbDropdownItem class="d-flex align-items-center" *ngIf="edtPrms ==1 || currentUser.user_role == '6' || currentUser.prmsnId == '1'" [routerLink]="['edit-budget-resident',row.id]">
                   <i class="fa fa-edit mr-50"></i> Edit 
                   </a>
                   <a ngbDropdownItem class="d-flex align-items-center" *ngIf="dltPrms ==1 || currentUser.user_role == '6' || currentUser.prmsnId == '1'" (click)="delete(row.id)">
                   <i class="fa fa-trash mr-50"></i> Delete 
                   </a>
                   <a ngbDropdownItem class="d-flex align-items-center"  *ngIf="dltPrms ==0 && edtPrms == 0">
                     <i class="fa fa-trash mr-50"></i>  You have no Permissions for any actions. 
                 </a>
                </div>
             </div>
          </div>
       </ng-template>
    </ngx-datatable-column>
    </ngx-datatable>


             <!-- OtpModal -->
 <ng-template #dltImprt let-modal>
   <div class="modal-header bg-danger">
     <h4 class="modal-title text-white" id="modal-basic-title">Delete Import </h4>
     <button type="button" class="close" aria-label="Close" (click)="closeVerificationModal()">&times;</button>
 </div>
 <div class="modal-body" tabindex="0" ngbAutofocus>
   <form class="user" [formGroup]="dltForm" (ngSubmit)="dltFormSub()">

      <div class="row">
         <div class="col-lg-4">
            <div class="common-form-left">
               <label for="inputPassword6" class="col-form-label">Select Community <span class="text-danger">*</span>
               </label>
            </div>
         </div>
         <div class="col-lg-8">
            <div class="common-form-left form-group">
             <select  class="form-control" formControlName="community_name">
                 <option value="" selected="selected" disabled>---Select Community---</option>
                 <option value="{{item.id}}" *ngFor="let item of allCommunity">{{item.community_name}}</option>
             </select>
               <span *ngIf="FormData_Control['community_name'].dirty && FormData_Control['community_name'].invalid">
                  <div class="invalid-feedback"
                     *ngIf="FormData_Control['community_name'].hasError('required')"
                     class="text text-danger">
                     This field required
                  </div>
               </span>
            </div>
         </div>
      </div>
      
       <div class="row">
           <div class="col-lg-4">
              <div class="common-form-left">
                 <label for="inputPassword6" class="col-form-label">Start Date <span class="text-danger">*</span>
                 </label>
              </div>
           </div>
           <div class="col-lg-8">
              <div class="common-form-left form-group">
                 <input type="date"
                    [class.is-invalid]="FormData_Control['start_date'].dirty && FormData_Control['start_date'].invalid"
                    formControlName="start_date" class="form-control form-control-user"
                    id="start_date" class="form-control"
                    placeholder="Start Date" aria-describedby="passwordHelpInline">
                 <span *ngIf="FormData_Control['start_date'].dirty && FormData_Control['start_date'].invalid">
                    <div class="invalid-feedback"
                       *ngIf="FormData_Control['start_date'].hasError('required')"
                       class="text text-danger">
                       This field required
                    </div>
                 </span>
              </div>
           </div>
        </div>

        <div class="row">
           <div class="col-lg-4">
              <div class="common-form-left">
                 <label for="inputPassword6" class="col-form-label">End Date <span class="text-danger">*</span>
                 </label>
              </div>
           </div>
           <div class="col-lg-8">
              <div class="common-form-left form-group">
                 <input type="date"
                    [class.is-invalid]="FormData_Control['end_date'].dirty && FormData_Control['end_date'].invalid"
                    formControlName="end_date" class="form-control form-control-user"
                    id="end_date" class="form-control"
                    placeholder="Start Date" aria-describedby="passwordHelpInline">
                 <span *ngIf="FormData_Control['end_date'].dirty && FormData_Control['end_date'].invalid">
                    <div class="invalid-feedback"
                       *ngIf="FormData_Control['end_date'].hasError('required')"
                       class="text text-danger">
                       This field required
                    </div>
                 </span>
              </div>
           </div>
           <button type="submit" class="btn btn-primary ml-1" [disabled]="btnShow">
               <span *ngIf="btnShow" class="spinner-border spinner-border-sm" role="status"
                   aria-hidden="true"></span>
                  Delete
           </button>
        </div>
   </form>
 </div>
 
 </ng-template>
 <!-- / Modal -->